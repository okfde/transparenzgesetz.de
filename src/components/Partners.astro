---
import Section from './Section.astro';
import _partners from '../data/partners.yaml';

const logos = await import.meta.glob(
  ['../assets/logos/*.png', '../assets/logos/*.svg'],
  { eager: true, import: 'default' }
);

const partners = await Promise.all(
  _partners.map(async (p) => ({
    ...p,
    logo: logos[`../assets/logos/${p.logo}`]
  }))
);
---

<div id="bündnis">
  <Section>
    <h2 class="text-2xl font-semibold">Das Bündnis</h2>

    <ul class="grid grid-cols-2 md:grid-cols-4 gap-16 my-8">
      {
        partners.map((partner) => (
          <li>
            <a
              href={partner.url}
              target="_blank"
              class="flex justify-center items-center h-full"
            >
              <img
                src={partner.logo}
                alt={partner.name}
                loading="lazy"
                class="max-w-full max-h-16"
              />
            </a>
          </li>
        ))
      }
    </ul>
  </Section>
</div>
